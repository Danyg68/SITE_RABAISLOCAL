<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merci et bienvenue ‚Äì RabaisLocal Commer√ßant</title>

<!-- Google Fonts - Poppins -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
<link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.ico">

<style>
/* ================================================
   RABAISLOCAL - PAGE REMERCIEMENT COMMER√áANT
   Variables & Reset
   ================================================ */
:root {
  --rl-blue: #3E53A5;
  --rl-blue-dark: #2E4191;
  --rl-purple-start: #667eea;
  --rl-purple-end: #764ba2;
  --rl-red-start: #FF416C;
  --rl-red-end: #FF4B2B;
  --bg: #F5F8FF;
  --card: #ffffff;
  --border: #E5E7EB;
  --text-muted: #6B7280;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--bg);
  color: #1B2240;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3 {
  margin: 0;
  font-weight: 700;
}

a {
  color: var(--rl-blue);
  text-decoration: none;
  transition: all 0.3s ease;
}

a:hover {
  color: var(--rl-blue-dark);
}

/* ================================================
   ANIMATIONS
   ================================================ */
@keyframes pulseBox {
  0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.6); }
  70% { box-shadow: 0 0 0 12px rgba(255, 215, 0, 0); }
  100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
}

@keyframes blink {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0.3; }
}

@keyframes shake {
  0%, 90%, 100% { transform: translateX(0); }
  92%, 96% { transform: translateX(-3px); }
  94%, 98% { transform: translateX(3px); }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes checkmark {
  0% {
    transform: scale(0) rotate(-45deg);
  }
  50% {
    transform: scale(1.1) rotate(-45deg);
  }
  100% {
    transform: scale(1) rotate(-45deg);
  }
}

/* ================================================
   BLOC ACTIVATION CONFIRM√âE
   ================================================ */
.activation-success {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  border-radius: 16px;
  color: #ffffff;
  padding: 28px 35px;
  margin-bottom: 40px;
  box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
  text-align: center;
  animation: fadeIn 0.6s ease-out;
}

.activation-success h2 {
  font-size: clamp(1.4rem, 3vw, 1.8rem);
  font-weight: 800;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.checkmark-icon {
  display: inline-block;
  font-size: 2rem;
  animation: checkmark 0.6s ease-out;
}

.activation-success p {
  font-size: 1.05rem;
  margin: 0;
  line-height: 1.6;
  opacity: 0.95;
}

/* ================================================
   SECTION PRINCIPALE
   ================================================ */
.rl-thankyou-commercant {
  padding: 50px 0;
  animation: fadeIn 0.8s ease-out;
}

.main-container {
  width: min(940px, 92vw);
  margin: 0 auto;
  background: var(--card);
  border-radius: 18px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  padding: 55px 65px;
}

/* ================================================
   HEADER
   ================================================ */
.header-section {
  text-align: center;
  margin-bottom: 35px;
}

.logo-img {
  height: 65px;
  width: auto;
  margin-bottom: 22px;
}

.main-title {
  font-size: clamp(1.7rem, 4vw, 2.2rem);
  color: var(--rl-blue);
  font-weight: 800;
  margin-bottom: 14px;
  line-height: 1.3;
}

.subtitle-text {
  font-size: 1.05rem;
  margin-top: 14px;
  line-height: 1.7;
  color: #1B2240;
}

.highlight-badge {
  background: #FFF8E1;
  padding: 3px 8px;
  border-radius: 5px;
  font-weight: 700;
  color: #1B2240;
}

/* ================================================
   VID√âO
   ================================================ */
.video-section {
  margin-bottom: 50px;
}

.video-wrapper {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* Ratio 16:9 */
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18);
  background: #000;
}

.video-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 14px;
}

/* ================================================
   BLOC PR√â-LANCEMENT
   ================================================ */
.prelancement-bloc {
  background: #EEF2FF;
  border: 2px solid var(--rl-blue);
  border-radius: 14px;
  padding: 38px 40px;
  box-shadow: 0 6px 16px rgba(62, 83, 165, 0.1);
  margin-bottom: 50px;
}

.info-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 20px;
}

.info-item:last-child {
  margin-bottom: 0;
}

.info-icon {
  font-size: 1.3rem;
  flex-shrink: 0;
}

.info-text {
  font-size: 1rem;
  line-height: 1.7;
}

.info-text strong {
  font-weight: 700;
  color: #0B1220;
}

/* ================================================
   BLOC EMAIL IMPORTANT
   ================================================ */
.email-bloc {
  position: relative;
  background: linear-gradient(135deg, var(--rl-purple-start) 0%, var(--rl-purple-end) 100%);
  border-radius: 16px;
  color: #ffffff;
  padding: 40px 45px;
  margin-bottom: 55px;
  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.35);
  border: 3px solid #FFD700;
  animation: pulseBox 2s infinite;
}

.important-badge {
  position: absolute;
  top: -15px;
  right: 22px;
  background: linear-gradient(135deg, var(--rl-red-start) 0%, var(--rl-red-end) 100%);
  color: #fff;
  padding: 9px 22px;
  border-radius: 20px;
  font-weight: 700;
  font-size: 0.88rem;
  box-shadow: 0 5px 14px rgba(255, 65, 108, 0.45);
  text-transform: uppercase;
  letter-spacing: 0.6px;
  animation: shake 3s infinite;
}

.email-item {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  margin-bottom: 18px;
}

.email-item:last-child {
  margin-bottom: 0;
}

.email-icon {
  font-size: 1.4rem;
  flex-shrink: 0;
}

.email-text {
  font-size: 1.05rem;
  line-height: 1.7;
}

.email-text strong {
  font-weight: 700;
}

.blink-star {
  animation: blink 1.5s infinite;
  margin-left: 6px;
}

/* ================================================
   BLOC EN ATTENDANT
   ================================================ */
.waiting-bloc {
  text-align: center;
  background: var(--card);
  border: 2px solid var(--rl-blue);
  border-radius: 14px;
  padding: 45px 40px;
  box-shadow: 0 8px 20px rgba(62, 83, 165, 0.12);
}

.waiting-title {
  font-size: 1.7rem;
  color: var(--rl-blue);
  margin-bottom: 18px;
  font-weight: 800;
}

.waiting-text {
  font-size: 1.05rem;
  line-height: 1.7;
  margin-bottom: 20px;
  color: #1B2240;
}

.waiting-text strong {
  font-weight: 700;
  color: #0B1220;
}

.cta-button {
  display: inline-block;
  background: var(--rl-blue);
  color: #fff;
  padding: 17px 42px;
  border-radius: 12px;
  text-decoration: none;
  font-weight: 700;
  font-size: 1.08rem;
  box-shadow: 0 8px 18px rgba(62, 83, 165, 0.35);
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
}

.cta-button:hover {
  background: var(--rl-blue-dark);
  transform: translateY(-3px);
  box-shadow: 0 10px 22px rgba(62, 83, 165, 0.45);
  color: #fff;
}

/* ================================================
   FOOTER
   ================================================ */
.footer-section {
  text-align: center;
  padding-top: 35px;
  border-top: 1px solid var(--border);
  margin-top: 45px;
}

.footer-text {
  font-size: 0.95rem;
  color: var(--text-muted);
  margin-bottom: 10px;
  line-height: 1.6;
}

.footer-copyright {
  font-size: 0.88rem;
  color: var(--text-muted);
  margin-top: 8px;
}

/* ================================================
   RESPONSIVE - MOBILE
   ================================================ */
@media (max-width: 768px) {
  .main-container {
    padding: 40px 30px;
  }

  .main-title {
    font-size: 1.65rem;
  }

  .subtitle-text {
    font-size: 1rem;
  }

  .activation-success {
    padding: 22px 25px;
  }

  .activation-success h2 {
    font-size: 1.3rem;
  }

  .activation-success p {
    font-size: 0.98rem;
  }

  .prelancement-bloc {
    padding: 30px 25px;
  }

  .email-bloc {
    padding: 32px 28px;
  }

  .important-badge {
    top: -12px;
    right: 15px;
    font-size: 0.8rem;
    padding: 7px 16px;
  }

  .waiting-bloc {
    padding: 35px 25px;
  }

  .waiting-title {
    font-size: 1.5rem;
  }

  .cta-button {
    font-size: 1rem;
    padding: 14px 32px;
  }
}

@media (max-width: 480px) {
  .main-container {
    padding: 32px 22px;
  }

  .logo-img {
    height: 55px;
  }

  .main-title {
    font-size: 1.5rem;
  }

  .subtitle-text {
    font-size: 0.95rem;
  }

  .activation-success {
    padding: 20px 22px;
  }

  .activation-success h2 {
    font-size: 1.2rem;
    flex-direction: column;
    gap: 8px;
  }

  .checkmark-icon {
    font-size: 1.8rem;
  }

  .activation-success p {
    font-size: 0.95rem;
  }

  .info-text {
    font-size: 0.95rem;
  }

  .email-text {
    font-size: 0.98rem;
  }

  .waiting-text {
    font-size: 1rem;
  }

  .prelancement-bloc {
    padding: 25px 20px;
  }

  .email-bloc {
    padding: 28px 22px;
  }
}

/* ================================================
   ACCESSIBILIT√â
   ================================================ */
a:focus,
button:focus {
  outline: 2px solid var(--rl-blue);
  outline-offset: 3px;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
</style>
</head>

<body>

<!-- ================================================
     SECTION PRINCIPALE
     ================================================ -->
<section class="rl-thankyou-commercant">
  <div class="main-container">

    <!-- ================================================
         HEADER
         ================================================ -->
    <div class="header-section">
      <img src="assets/images/logo rabaislocal-2025-2.png"
           alt="Logo RabaisLocal"
           class="logo-img">

      <h1 class="main-title">
        üéâ Merci et bienvenue chez RabaisLocal !
      </h1>

      <p class="subtitle-text">
        F√©licitations ! Votre commerce est maintenant activ√© dans l'√©cosyst√®me RabaisLocal ‚Äî la plateforme qu√©b√©coise propuls√©e par l'IA qui connecte les consommateurs aux commerces locaux, sans commission et sans complication.
      </p>
    </div>

    <!-- ================================================
         BLOC ACTIVATION CONFIRM√âE
         ================================================ -->
    <div class="activation-success">
      <h2>
        <span class="checkmark-icon">‚úÖ</span>
        Compte activ√© avec succ√®s !
      </h2>
      <p>
        Votre compte commer√ßant est maintenant officiellement actif. Vous faites partie des entreprises qui auront une longueur d'avance lors du lancement officiel du 19 mars 2026.
      </p>
    </div>

    <!-- ================================================
         VID√âO
         ================================================ -->
    <div class="video-section">
      <div class="video-wrapper">
        <iframe
          src="https://www.youtube.com/embed/LcY0QmL4QfE"
          title="Vid√©o de remerciement RabaisLocal - Commer√ßants"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </div>

    <!-- ================================================
         BLOC P√âRIODE DE PR√â-LANCEMENT
         ================================================ -->
    <div class="prelancement-bloc">
      <div class="info-item">
        <span class="info-icon">üöÄ</span>
        <span class="info-text">
          <strong>Phase de pr√©-lancement :</strong> Votre commerce est maintenant enregistr√© dans l'√©cosyst√®me RabaisLocal. D'ici le lancement officiel du <strong>19 mars 2026</strong>, nous finalisons la plateforme pour garantir une exp√©rience optimale √† tous les commerces participants.
        </span>
      </div>

      <div class="info-item">
        <span class="info-icon">ü§ñ</span>
        <span class="info-text">
          <strong>Acc√®s privil√©gi√©s aux outils IA :</strong> En tant que commer√ßant pr√©-inscription, vous recevrez des acc√®s anticip√©s pour tester nos fonctionnalit√©s d'intelligence artificielle (cr√©ation de promotions automatis√©es, analyses de march√©, recommandations personnalis√©es) avant le grand public.
        </span>
      </div>

      <div class="info-item">
        <span class="info-icon">üìß</span>
        <span class="info-text">
          <strong>Mises √† jour exclusives :</strong> Vous recevrez r√©guli√®rement des communications privil√©gi√©es sur l'√©volution de la plateforme, les nouvelles fonctionnalit√©s disponibles, et les opportunit√©s pour maximiser votre visibilit√© locale.
        </span>
      </div>

      <div class="info-item">
        <span class="info-icon">üéØ</span>
        <span class="info-text">
          <strong>Longueur d'avance garantie :</strong> En vous inscrivant d√®s maintenant, vous positionnez votre commerce parmi les pionniers de RabaisLocal et b√©n√©ficierez d'une visibilit√© accrue d√®s le lancement officiel du 19 mars 2026.
        </span>
      </div>
    </div>

    <!-- ================================================
         BLOC EMAIL IMPORTANT
         ================================================ -->
    <div class="email-bloc">
      <div class="important-badge">‚ö†Ô∏è Important</div>

      <div class="email-item">
        <span class="email-icon">üìß</span>
        <span class="email-text">
          <strong>Surveillez votre courriel :</strong> vous recevrez les prochaines √©tapes, ainsi que vos acc√®s privil√©gi√©s pour tester certains outils avant le lancement.
        </span>
      </div>

      <div class="email-item">
        <span class="email-icon">üì©</span>
        <span class="email-text">
          Si vous ne voyez pas notre message, <strong>v√©rifiez votre dossier "courriers ind√©sirables"</strong> ou l'onglet <strong>"Promotions"</strong>.<span class="blink-star">‚ú®</span>
        </span>
      </div>
    </div>

    <!-- ================================================
         BLOC EN ATTENDANT
         ================================================ -->
    <div class="waiting-bloc">
      <h3 class="waiting-title">
        üíô En attendant le grand lancement...
      </h3>

      <p class="waiting-text">
        D'ici le 19 mars 2026, vous recevrez des <strong>mises √† jour exclusives</strong>, des acc√®s IA, des tests de fonctionnalit√©s et des opportunit√©s pour augmenter votre visibilit√© dans la communaut√© RabaisLocal.
      </p>

      <p class="waiting-text">
        En attendant, d√©couvrez RabaisLocal <strong>du point de vue des consommateurs</strong> pour mieux comprendre comment vos promotions seront vues et utilis√©es.
      </p>

      <a href="https://marketing.rabaislocal.com/page-1-inscription-client"
         class="cta-button"
         id="cta-consommateur">
        üëÄ Voir le parcours consommateur gratuit
      </a>
    </div>

    <!-- ================================================
         FOOTER
         ================================================ -->
    <div class="footer-section">
      <p class="footer-text">
        RabaisLocal aide les commer√ßants d'ici √† se faire d√©couvrir, sans payer de commission, gr√¢ce √† des promotions locales propuls√©es par l'IA.
      </p>
      <p class="footer-copyright">
        ¬© 2025 <strong>RabaisLocal</strong> ‚Äî Une initiative locale pour soutenir l'√©conomie d'ici.
      </p>
    </div>

  </div>
</section>

<!-- ================================================
     JAVASCRIPT - TRACKING REF & PROPAGATION
     ================================================ -->
<script>
(function() {
  "use strict";

  /* ====================================================
     UTILITAIRES
     ==================================================== */
  function getParam(name) {
    try {
      const params = new URLSearchParams(window.location.search);
      return params.get(name) || '';
    } catch(e) {
      return '';
    }
  }

  function sanitize(value) {
    return (value || '').toString().replace(/[^\w\-]/g, '').trim();
  }

  function setCookie(name, value, days) {
    try {
      const date = new Date();
      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
      document.cookie = name + "=" + encodeURIComponent(value) + ";expires=" + date.toUTCString() + ";path=/";
    } catch(e) {}
  }

  function getCookie(name) {
    try {
      const match = document.cookie.match(new RegExp("(^| )" + name + "=([^;]+)"));
      return match ? decodeURIComponent(match[2]) : '';
    } catch(e) {
      return '';
    }
  }

  function setLS(key, value) {
    try {
      localStorage.setItem(key, value);
    } catch(e) {}
  }

  function getLS(key) {
    try {
      return localStorage.getItem(key) || '';
    } catch(e) {
      return '';
    }
  }

  /* ====================================================
     CAPTURE ET GESTION DU REF
     ==================================================== */

  // R√©cup√©ration du ref depuis URL, cookies ou localStorage
  const refFromURL = getParam('ref') || getParam('rl_ref') || getParam('referred_by');
  const refFromCookie = getCookie('rl_ref');
  const refFromLS = getLS('rl_ref');

  // Priorit√©: URL > localStorage > Cookie
  let REF = sanitize(refFromURL || refFromLS || refFromCookie);

  // Persistance du REF
  if (refFromURL) {
    REF = sanitize(refFromURL);
    setCookie('rl_ref', REF, 180);
    setLS('rl_ref', REF);
  } else if (REF) {
    // Rafra√Æchir la dur√©e
    setCookie('rl_ref', REF, 180);
    setLS('rl_ref', REF);
  }

  console.log('‚úÖ REF captur√© sur page remerciement commer√ßant:', REF || '(aucun parrain)');

  /* ====================================================
     PROPAGATION DU REF DANS TOUS LES LIENS
     ==================================================== */
  function propagateLinks() {
    if (!REF) return;

    document.querySelectorAll('a[href]').forEach(function(link) {
      const href = link.getAttribute('href');

      // Ignorer les liens sp√©ciaux
      if (!href ||
          href.startsWith('mailto:') ||
          href.startsWith('tel:') ||
          href.startsWith('javascript:') ||
          href.startsWith('#')) {
        return;
      }

      try {
        const url = new URL(href, window.location.origin);

        // Ajouter le ref si pas d√©j√† pr√©sent
        if (!url.searchParams.get('ref') && !url.searchParams.get('rl_ref')) {
          url.searchParams.set('ref', REF);
          link.setAttribute('href', url.toString());
        }
      } catch(e) {
        // Fallback pour URLs relatives
        if (href.indexOf('?') === -1) {
          link.setAttribute('href', href + '?ref=' + encodeURIComponent(REF));
        } else if (!/[?&](ref|rl_ref)=/i.test(href)) {
          link.setAttribute('href', href + '&ref=' + encodeURIComponent(REF));
        }
      }
    });
  }

  /* ====================================================
     EX√âCUTION AU CHARGEMENT
     ==================================================== */
  window.addEventListener('load', propagateLinks);

  // Observer les changements du DOM
  const observer = new MutationObserver(propagateLinks);
  observer.observe(document.documentElement, {
    childList: true,
    subtree: true
  });

  /* ====================================================
     SAUVEGARDE DU REF AVANT CHAQUE CLIC
     ==================================================== */
  document.addEventListener('click', function(e) {
    if (e.target.closest('button, [type="submit"], a')) {
      try {
        if (REF) {
          setLS('rl_ref', REF);
          setCookie('rl_ref', REF, 180);
        }
      } catch(err) {}
    }
  });

})();
</script>

</body>
</html>
