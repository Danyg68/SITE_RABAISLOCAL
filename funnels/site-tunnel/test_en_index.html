<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
        content="RabaisLocal - The 100% Quebec platform connecting consumers, merchants, and affiliates to circulate local wealth." />
    <title>RabaisLocal - Home</title>

    <!-- Google Fonts - Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.ico">

    <!-- Styles CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

    <!-- ========================================
     TOP INFO BANNER
========================================= -->
    <div class="top-info">
        Be among the first Quebecers to activate your card
    </div>

    <!-- ========================================
     HEADER - LOGO + SLOGAN
========================================= -->
    <header>
        <img src="assets/images/logo rabaislocal-2025-2.png" alt="RabaisLocal" class="logo">
        <p class="slogan">Discover how to save, sell more, or build an income starting today.</p>
        <p class="tagline">RabaisLocal is THE local solution made for you.</p>
    </header>

    <!-- ========================================
     VIDEO SECTION - PRESENTATION
========================================= -->
    <section class="video-section">
        <h2>üé• Discover what RabaisLocal is in 1 minute</h2>
        <p>
            A 100% Quebec platform connecting
            <strong>Consumers</strong>, <strong>Merchants</strong>, and <strong>Affiliates</strong>
            to circulate local wealth.
        </p>
        <div class="video-frame">
            <iframe src="https://www.youtube.com/embed/qk4nJTvNO8k" title="What is RabaisLocal ‚Äì Quick Presentation"
                allowfullscreen>
            </iframe>
        </div>
    </section>

    <!-- ========================================
     SECTION - CHOOSE YOUR PATH
========================================= -->
    <section class="choice-section">
        <h2 class="choice-title">Choose your path</h2>

        <div class="choice-grid">

            <!-- Path 1 - Consumer -->
            <div class="choice-item">
                <a href="#consommateur" style="text-decoration: none; color: inherit;">
                    <p class="choice-label">
                        Click here <span class="arrow-emoji">‚¨áÔ∏è</span>
                    </p>
                </a>
            </div>

            <!-- Path 2 - Merchant -->
            <div class="choice-item">
                <a href="#commercant" style="text-decoration: none; color: inherit;">
                    <p class="choice-label">
                        Click here <span class="arrow-emoji">‚¨áÔ∏è</span>
                    </p>
                </a>
            </div>

            <!-- Path 3 - Affiliate -->
            <div class="choice-item">
                <a href="#affilie" style="text-decoration: none; color: inherit;">
                    <p class="choice-label">
                        Click here <span class="arrow-emoji">‚¨áÔ∏è</span>
                    </p>
                </a>
            </div>

        </div>
    </section>

    <!-- ========================================
     SECTION - 3 ROLE CARDS
========================================= -->
    <section class="roles">

        <!-- Consumer Card -->
        <article id="consommateur" class="role-box">
            <a href="page-consommateur.html">
                <img src="assets/images/a104ad44b9babe9a1efe5792dbf5febe_0a9ae780.png" alt="Consumer">
            </a>
            <a href="page-consommateur.html">
                <h2>Consumer</h2>
            </a>
            <div class="role-body">
                <p>Discover exclusive local offers that lighten your budget today.</p>
                <p class="testimonial">
                    "I talk about it around me, everyone wants to join!"<br>
                    ‚Äì Pierre B., Shawinigan
                </p>
            </div>
        </article>

        <!-- Merchant Card -->
        <article id="commercant" class="role-box">
            <a href="page1-commercant.html">
                <img src="assets/images/c16a686feebe64d577ef7742a4eb65a8_8cfc90b3.jpg" alt="Merchant">
            </a>
            <a href="page1-commercant.html">
                <h2>Merchant</h2>
            </a>
            <div class="role-body">
                <p>Attract more customers without depending on big sites or paying crazy commissions.</p>
                <p class="testimonial">
                    "I want to be there from the start!"<br>
                    ‚Äì Megan V., Quebec
                </p>
            </div>
        </article>

        <!-- Affiliate Card -->
        <article id="affilie" class="role-box">
            <a href="test_en_page1-1-affiliate.html">
                <img src="assets/images/1eee5bf97c6c27c19f1c39708afc3e4b_5295cd1c.jpg" alt="Affiliate">
            </a>
            <a href="test_en_page1-1-affiliate.html">
                <h2>Affiliate</h2>
            </a>
            <div class="role-body">
                <p>
                    Recommend RabaisLocal, help your people, and build an income even while sleeping ‚Äì
                    <strong>WITHOUT SELLING!</strong>
                </p>
                <p class="testimonial">
                    "I never thought it could go this fast."<br>
                    ‚Äì Bruno L., St-Hyacinthe
                </p>
            </div>
        </article>

    </section>

    <!-- ========================================
     SECTION - OUR MISSION
========================================= -->
    <section class="mission">
        <div class="mission-box">
            <h2>üíô Our Mission</h2>
            <p>Buy local. Save easily. Build a sustainable income.</p>
            <p>
                A <strong>local, human, platform without intermediaries</strong>
                giving power back to the community.
            </p>
        </div>
    </section>

    <!-- ========================================
     FINAL CTA - JOIN THE MOVEMENT
========================================= -->
    <section class="cta">
        <h3>üöÄ Join the RabaisLocal movement</h3>
        <p>
            <strong>100% <span class="highlight-red">FREE</span> registration and <u>no commitment</u>.</strong>
        </p>
    </section>

    <!-- ========================================
     FOOTER - COPYRIGHT
========================================= -->
    <footer>
        <p>¬© 2025 <strong>RabaisLocal</strong> ‚Äî Made with üíô in Quebec</p>
    </footer>

    <!-- ========================================
     COOKIE BANNER + REF TRACKER
========================================= -->

    <!-- ====== RABAISLOCAL COOKIE BANNER ‚Äì universal version ====== -->
    <style>
        .rl-cookie-bar {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ffffff;
            border-top: 1px solid #E3E8FF;
            box-shadow: 0 -6px 24px rgba(0, 0, 0, .08);
            z-index: 9999;
            font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            color: #1B2240
        }

        .rl-cookie-wrap {
            max-width: 1100px;
            margin: 0 auto;
            padding: 12px 16px;
            display: flex;
            gap: 16px;
            align-items: center
        }

        .rl-cookie-text {
            font-size: 14px;
            line-height: 1.5;
            flex: 1
        }

        .rl-cookie-actions {
            display: flex;
            gap: 8px
        }

        .rl-btn {
            border: none;
            border-radius: 8px;
            padding: 10px 14px;
            font-weight: 600;
            cursor: pointer
        }

        .rl-btn-primary {
            background: #3E53A5;
            color: #fff
        }

        .rl-btn-ghost {
            background: #F5F8FF;
            color: #1B2240;
            border: 1px solid #E3E8FF
        }

        .rl-cookie-link {
            color: #3E53A5;
            text-decoration: underline
        }

        .rl-cookie-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, .35);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000
        }

        .rl-cookie-card {
            background: #fff;
            border: 1px solid #E3E8FF;
            border-radius: 14px;
            width: min(680px, 92vw);
            padding: 18px
        }

        .rl-cookie-card h3 {
            margin: 0 0 10px;
            color: #3E53A5
        }

        .rl-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #E3E8FF;
            border-radius: 10px;
            padding: 10px 12px;
            margin: 8px 0
        }

        .rl-switch {
            position: relative;
            width: 48px;
            height: 26px;
            background: #E3E8FF;
            border-radius: 999px;
            cursor: pointer
        }

        .rl-switch input {
            display: none
        }

        .rl-switch span {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 1px 3px rgba(0, 0, 0, .2);
            transition: .2s
        }

        .rl-switch input:checked+span {
            left: 25px;
            background: #3E53A5
        }

        @media(max-width:720px) {
            .rl-cookie-wrap {
                flex-direction: column;
                align-items: flex-start
            }
        }
    </style>

    <div class="rl-cookie-bar" id="rlCookieBar">
        <div class="rl-cookie-wrap">
            <div class="rl-cookie-text">
                We use cookies for site operation (necessary), audience measurement (Analytics), and if you accept, to
                improve our content (functional) and campaigns (marketing).
                <a class="rl-cookie-link" href="politique-cookies.html">Learn more</a>.
            </div>
            <div class="rl-cookie-actions">
                <button class="rl-btn rl-btn-ghost" id="rlCookieRefuse">Decline All</button>
                <button class="rl-btn rl-btn-ghost" id="rlCookiePrefs">Customize</button>
                <button class="rl-btn rl-btn-primary" id="rlCookieAccept">Accept All</button>
            </div>
        </div>
    </div>

    <div class="rl-cookie-modal" id="rlCookieModal" aria-hidden="true">
        <div class="rl-cookie-card" role="dialog" aria-modal="true" aria-labelledby="rlCookieTitle">
            <h3 id="rlCookieTitle">Cookie Preferences</h3>
            <div class="rl-row">
                <div><strong>Necessary</strong> ‚Äì essential for operation (always active)</div>
                <div class="rl-switch"><input type="checkbox" checked disabled><span></span></div>
            </div>
            <div class="rl-row">
                <div><strong>Audience Measurement</strong> (Google Analytics/Tag Manager)</div><label
                    class="rl-switch"><input type="checkbox" id="cAnalytics"><span></span></label>
            </div>
            <div class="rl-row">
                <div><strong>Functional</strong> (preferences, user comfort)</div><label class="rl-switch"><input
                        type="checkbox" id="cFunctional"><span></span></label>
            </div>
            <div class="rl-row">
                <div><strong>Marketing</strong> (Meta, TikTok, YouTube)</div><label class="rl-switch"><input
                        type="checkbox" id="cMarketing"><span></span></label>
            </div>
            <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
                <button class="rl-btn rl-btn-ghost" id="rlPrefsCancel">Cancel</button>
                <button class="rl-btn rl-btn-primary" id="rlPrefsSave">Save</button>
            </div>
        </div>
    </div>

    <script>
        setTimeout(() => {
            (function () {
                const BAR = document.getElementById('rlCookieBar');
                const MODAL = document.getElementById('rlCookieModal');
                const LSKEY = 'rlConsent';

                function getConsent() {
                    try { return JSON.parse(localStorage.getItem(LSKEY)) || null } catch (e) { return null }
                }
                function saveConsent(obj) { localStorage.setItem(LSKEY, JSON.stringify(obj)); }
                function hideBar() { if (BAR) BAR.style.display = 'none'; }
                function showBar() { if (BAR) BAR.style.display = 'block'; }
                function openModal() { MODAL.style.display = 'flex'; }
                function closeModal() { MODAL.style.display = 'none'; }

                function applyConsent(c) {
                    window.dataLayer = window.dataLayer || [];
                    function gtag() { dataLayer.push(arguments); }
                    gtag('consent', 'default', {
                        'ad_storage': c && c.marketing ? 'granted' : 'denied',
                        'analytics_storage': c && c.analytics ? 'granted' : 'denied',
                        'functionality_storage': c && c.functional ? 'granted' : 'denied',
                        'security_storage': 'granted'
                    });
                }

                const existing = getConsent();
                if (existing) { hideBar(); applyConsent(existing); } else { showBar(); }

                const wait = setInterval(() => {
                    const accept = document.getElementById('rlCookieAccept');
                    const refuse = document.getElementById('rlCookieRefuse');
                    const prefs = document.getElementById('rlCookiePrefs');
                    const save = document.getElementById('rlPrefsSave');
                    const cancel = document.getElementById('rlPrefsCancel');
                    const cAn = document.getElementById('cAnalytics');
                    const cFn = document.getElementById('cFunctional');
                    const cMk = document.getElementById('cMarketing');
                    if (accept && refuse && prefs && save && cancel) {
                        clearInterval(wait);
                        accept.onclick = () => { const c = { analytics: true, functional: true, marketing: true }; saveConsent(c); hideBar(); applyConsent(c); };
                        refuse.onclick = () => { const c = { analytics: false, functional: false, marketing: false }; saveConsent(c); hideBar(); applyConsent(c); };
                        prefs.onclick = openModal;
                        save.onclick = () => { const c = { analytics: cAn.checked, functional: cFn.checked, marketing: cMk.checked }; saveConsent(c); closeModal(); hideBar(); applyConsent(c); };
                        cancel.onclick = closeModal;
                    }
                }, 400);
            })();
        }, 700);
    </script>

    <!-- ================================
  RABAISLOCAL ‚Ä¢ GLOBAL REF TRACKER
================================== -->
    <script>
        (function () {
            "use strict";

            /* === TOOLS === */
            function getParam(name) {
                try {
                    var p = new URLSearchParams(window.location.search);
                    return p.get(name) || "";
                } catch (e) { return ""; }
            }
            function sanitize(v) { return (v || "").toString().replace(/[^\w\-]/g, "").trim(); }
            function setCookie(n, v, days) {
                try {
                    var t = new Date();
                    t.setTime(t.getTime() + days * 24 * 60 * 60 * 1000);
                    document.cookie = n + "=" + encodeURIComponent(v) + ";expires=" + t.toUTCString() + ";path=/";
                } catch (e) { }
            }
            function getCookie(n) {
                try {
                    var m = document.cookie.match(new RegExp("(^| )" + n + "=([^;]+)"));
                    return m ? decodeURIComponent(m[2]) : "";
                } catch (e) { return ""; }
            }
            function setLS(k, v) { try { localStorage.setItem(k, v); } catch (e) { } }
            function getLS(k) { try { return localStorage.getItem(k) || ""; } catch (e) { return ""; } }

            /* === CAPTURE REF === */
            var refURL = getParam("ref") || getParam("rl_ref") || getParam("referred_by");
            var refCookie = getCookie("rl_ref");
            var refLS = getLS("rl_ref");
            var REF = sanitize(refURL || refCookie || refLS);

            // Persistence
            if (refURL) {
                REF = sanitize(refURL);
                setCookie("rl_ref", REF, 180);
                setLS("rl_ref", REF);
            } else if (REF) {
                setCookie("rl_ref", REF, 180);
                setLS("rl_ref", REF);
            }

            /* === INJECT INTO FORMS === */
            function injectHiddenRef() {
                var val = REF || "";
                document.querySelectorAll("form").forEach(function (f) {
                    if (!f.querySelector('input[name="rl_ref"]')) {
                        var i = document.createElement("input");
                        i.type = "hidden";
                        i.name = "rl_ref";
                        i.value = val;
                        f.appendChild(i);
                    } else {
                        var ex = f.querySelector('input[name="rl_ref"]');
                        if (!ex.value && val) ex.value = val;
                    }
                });
            }

            /* === PROPAGATE TO INTERNAL LINKS === */
            function propagateLinks() {
                if (!REF) return;
                document.querySelectorAll("a[href]").forEach(function (a) {
                    var href = a.getAttribute("href");
                    if (!href || href.startsWith("mailto:") || href.startsWith("tel:") || href.startsWith("javascript:") || href.startsWith("#")) return;
                    try {
                        var url = new URL(href, window.location.origin);
                        if (url.origin !== window.location.origin) return;
                        if (!url.searchParams.get("ref") && !url.searchParams.get("rl_ref")) {
                            url.searchParams.set("ref", REF);
                        }
                        a.setAttribute("href", url.toString());
                    } catch (e) {
                        if (href.indexOf("?") === -1) a.setAttribute("href", href + "?ref=" + encodeURIComponent(REF));
                        else if (!/[?&](ref|rl_ref)=/i.test(href))
                            a.setAttribute("href", href + "&ref=" + encodeURIComponent(REF));
                    }
                });
            }

            /* === MAIN EXECUTION === */
            function run() {
                if (!REF) REF = sanitize(getLS("rl_ref") || getCookie("rl_ref"));
                injectHiddenRef();
                propagateLinks();
            }

            // Execute after load + on mutation
            window.addEventListener("load", run);
            var mo = new MutationObserver(run);
            mo.observe(document.documentElement, { childList: true, subtree: true });

            /* === SAVE BEFORE REDIRECT === */
            document.addEventListener('click', function (e) {
                if (e.target.closest('button, a')) {
                    try {
                        if (REF) {
                            setLS('rl_ref', REF);
                            setCookie('rl_ref', REF, 180);
                        }
                    } catch (err) { }
                }
            });

        })();
    </script>

</body>

</html>